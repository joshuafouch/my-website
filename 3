<script>
  import { fly } from 'svelte/transition';
  import { links } from '$lib/config';
  
  export let open = false;
</script>

{#if open}
	<!-- 
    The overlay covers the page. Clicking it will close the sidebar.
    It has a lower z-index than the sidebar panel.
  -->
	<div
		class="fixed inset-0 bg-black/60 z-40"
		on:click={() => (open = false)}
		transition:fly={{ duration: 300, x: '100%' }}
	></div>

	<!-- 
    The sidebar panel itself.
    It has the highest z-index to appear on top of everything.
  -->
	<aside
		class="fixed top-4 right-0 h-min w-64 bg-base-200/80 backdrop-blur-md z-50 p-4 rounded-l-xl shadow-lg"
		transition:fly={{ duration: 300, x: '100%' }}
	>
		<ul class="flex flex-col justify-center gap-4 menu min-h-full">
			{#each links as link (link.href)}
				<li>
					<a href={link.href} class="btn btn-ghost text-xl w-full hover:text-accent">{link.text}</a>
				</li>
			{/each}
		</ul>
	</aside>
{/if}
